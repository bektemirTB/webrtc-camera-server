<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>–ö–∞–º–µ—Ä–∞ –í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è</title>
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1a1a1a">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Arial, sans-serif;
      background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
      color: white;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
    }
    .container {
      max-width: 500px;
      width: 100%;
      text-align: center;
    }
    h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      background: linear-gradient(135deg, #4CAF50, #2196F3);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .subtitle {
      color: #999;
      margin-bottom: 3rem;
      font-size: 1.1rem;
    }
    .buttons {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    .btn {
      padding: 1.5rem;
      font-size: 1.2rem;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      text-decoration: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1rem;
      transition: all 0.3s ease;
      font-weight: 600;
    }
    .btn-camera {
      background: linear-gradient(135deg, #4CAF50, #45a049);
      color: white;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
    }
    .btn-camera:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
    }
    .btn-viewer {
      background: linear-gradient(135deg, #2196F3, #1976D2);
      color: white;
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.3);
    }
    .btn-viewer:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(33, 150, 243, 0.4);
    }
    .icon {
      font-size: 2rem;
    }
    .features {
      margin-top: 3rem;
      padding: 2rem;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 12px;
      text-align: left;
    }
    .features h3 {
      margin-bottom: 1rem;
      color: #4CAF50;
    }
    .features ul {
      list-style: none;
      padding: 0;
    }
    .features li {
      padding: 0.5rem 0;
      color: #ccc;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .features li:before {
      content: "‚úì";
      color: #4CAF50;
      font-weight: bold;
      font-size: 1.2rem;
    }
    .install-prompt {
      margin-top: 2rem;
      padding: 1rem;
      background: rgba(255, 193, 7, 0.1);
      border: 1px solid rgba(255, 193, 7, 0.3);
      border-radius: 8px;
      color: #FFC107;
      display: none;
    }
    .install-prompt.show {
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>üìπ –ö–∞–º–µ—Ä–∞ –í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è</h1>
    <p class="subtitle">–ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ —Å—Ç–∞—Ä—ã–π —Ç–µ–ª–µ—Ñ–æ–Ω –≤ –∫–∞–º–µ—Ä—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—è</p>
    
    <div class="buttons">
      <a href="/camera.html" class="btn btn-camera">
        <span class="icon">üìπ</span>
        <span>–†–µ–∂–∏–º –ö–∞–º–µ—Ä—ã</span>
      </a>
      <a href="/viewer.html" class="btn btn-viewer">
        <span class="icon">üëÅ</span>
        <span>–†–µ–∂–∏–º –ü—Ä–æ—Å–º–æ—Ç—Ä–∞</span>
      </a>
    </div>

    <div class="install-prompt" id="installPrompt">
      üí° –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞!
    </div>

    <div class="features">
      <h3>–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:</h3>
      <ul>
        <li>–ü–∞—Ä–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–æ –∫–æ–¥—É (5 –º–∏–Ω—É—Ç)</li>
        <li>–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å–≤—è–∑—å –º–µ–∂–¥—É –ø–∞—Ä–æ–π</li>
        <li>Full HD –≤–∏–¥–µ–æ (1920x1080)</li>
        <li>–î–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω—è—è –≥–æ–ª–æ—Å–æ–≤–∞—è —Å–≤—è–∑—å</li>
        <li>–í—ã–±–æ—Ä –∫–∞–º–µ—Ä—ã (–æ—Å–Ω–æ–≤–Ω–∞—è/—à–∏—Ä–æ–∫–∞—è/—Ñ—Ä–æ–Ω—Ç–∞–ª—å–Ω–∞—è)</li>
        <li>–ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ —á–µ—Ä–µ–∑ WebRTC</li>
        <li>–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä</li>
      </ul>
    </div>
  </div>

  <script>
    // PWA —É—Å—Ç–∞–Ω–æ–≤–∫–∞
    let deferredPrompt;
    const installPrompt = document.getElementById('installPrompt');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installPrompt.classList.add('show');
      
      installPrompt.addEventListener('click', async () => {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ${outcome === 'accepted' ? '–ø—Ä–∏–Ω—è–ª' : '–æ—Ç–∫–ª–æ–Ω–∏–ª'} —É—Å—Ç–∞–Ω–æ–≤–∫—É`);
        deferredPrompt = null;
        installPrompt.classList.remove('show');
      });
    });

    // –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è Service Worker
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log('‚úÖ Service Worker –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω'))
        .catch(err => console.log('‚ùå –û—à–∏–±–∫–∞ Service Worker:', err));
    }
  </script>
</body>
</html>